(window["webpackJsonp_N_E"] = window["webpackJsonp_N_E"] || []).push([[16],{

/***/ "../node_modules/@material-ui/icons/ColorLens.js":
/*!*******************************************************!*\
  !*** ../node_modules/@material-ui/icons/ColorLens.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "../node_modules/@babel/runtime/helpers/interopRequireDefault.js");

var _interopRequireWildcard = __webpack_require__(/*! @babel/runtime/helpers/interopRequireWildcard */ "../node_modules/@babel/runtime/helpers/interopRequireWildcard.js");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var React = _interopRequireWildcard(__webpack_require__(/*! react */ "../node_modules/react/index.js"));

var _createSvgIcon = _interopRequireDefault(__webpack_require__(/*! ./utils/createSvgIcon */ "../node_modules/@material-ui/icons/utils/createSvgIcon.js"));

var _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement("path", {
  d: "M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"
}), 'ColorLens');

exports.default = _default;

/***/ }),

/***/ "../node_modules/@material-ui/icons/Gradient.js":
/*!******************************************************!*\
  !*** ../node_modules/@material-ui/icons/Gradient.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "../node_modules/@babel/runtime/helpers/interopRequireDefault.js");

var _interopRequireWildcard = __webpack_require__(/*! @babel/runtime/helpers/interopRequireWildcard */ "../node_modules/@babel/runtime/helpers/interopRequireWildcard.js");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var React = _interopRequireWildcard(__webpack_require__(/*! react */ "../node_modules/react/index.js"));

var _createSvgIcon = _interopRequireDefault(__webpack_require__(/*! ./utils/createSvgIcon */ "../node_modules/@material-ui/icons/utils/createSvgIcon.js"));

var _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement("path", {
  d: "M11 9h2v2h-2zm-2 2h2v2H9zm4 0h2v2h-2zm2-2h2v2h-2zM7 9h2v2H7zm12-6H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 18H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm2-7h-2v2h2v2h-2v-2h-2v2h-2v-2h-2v2H9v-2H7v2H5v-2h2v-2H5V5h14v6z"
}), 'Gradient');

exports.default = _default;

/***/ }),

/***/ "../node_modules/@material-ui/icons/Landscape.js":
/*!*******************************************************!*\
  !*** ../node_modules/@material-ui/icons/Landscape.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "../node_modules/@babel/runtime/helpers/interopRequireDefault.js");

var _interopRequireWildcard = __webpack_require__(/*! @babel/runtime/helpers/interopRequireWildcard */ "../node_modules/@babel/runtime/helpers/interopRequireWildcard.js");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var React = _interopRequireWildcard(__webpack_require__(/*! react */ "../node_modules/react/index.js"));

var _createSvgIcon = _interopRequireDefault(__webpack_require__(/*! ./utils/createSvgIcon */ "../node_modules/@material-ui/icons/utils/createSvgIcon.js"));

var _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement("path", {
  d: "M14 6l-3.75 5 2.85 3.8-1.6 1.2C9.81 13.75 7 10 7 10l-6 8h22L14 6z"
}), 'Landscape');

exports.default = _default;

/***/ }),

/***/ "../packages/plugins/layout/background/lib-es/Controls/Controls.js":
/*!*************************************************************************!*\
  !*** ../packages/plugins/layout/background/lib-es/Controls/Controls.js ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Inner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Inner */ "../packages/plugins/layout/background/lib-es/Controls/Inner.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};


var BackgroundDefaultControls = /** @class */ (function (_super) {
    __extends(BackgroundDefaultControls, _super);
    function BackgroundDefaultControls(props) {
        var _this = _super.call(this, props) || this;
        _this.handleChangeDarken = function () {
            _this.props.onChange({ darken: _this.state.darkenPreview });
            _this.setState({ darkenPreview: undefined });
        };
        _this.handleChangeDarkenPreview = function (value) {
            _this.setState({ darkenPreview: value });
        };
        _this.handleChangeLighten = function () {
            _this.props.onChange({ lighten: _this.state.lightenPreview });
            _this.setState({ lightenPreview: undefined });
        };
        _this.handleChangeLightenPreview = function (value) {
            _this.setState({ lightenPreview: value });
        };
        _this.handleChangeHasPadding = function () {
            _this.props.onChange({
                hasPadding: _this.props.data.hasPadding === undefined
                    ? !_this.props.defaultHasPadding
                    : !_this.props.data.hasPadding,
            });
        };
        _this.handleChangeBackgroundColorPreview = function (e) {
            return _this.setState({ backgroundColorPreview: e });
        };
        _this.handleChangeGradientDegPreview = function (gradientDegPreview, gradientDegPreviewIndex) { return _this.setState({ gradientDegPreview: gradientDegPreview, gradientDegPreviewIndex: gradientDegPreviewIndex }); };
        _this.handleChangeGradientOpacityPreview = function (gradientOpacityPreview, gradientOpacityPreviewIndex) { return _this.setState({ gradientOpacityPreview: gradientOpacityPreview, gradientOpacityPreviewIndex: gradientOpacityPreviewIndex }); };
        _this.handleChangeGradientColorPreview = function (gradientColorPreview, gradientColorPreviewIndex, gradientColorPreviewColorIndex) {
            return _this.setState({
                gradientColorPreview: gradientColorPreview,
                gradientColorPreviewIndex: gradientColorPreviewIndex,
                gradientColorPreviewColorIndex: gradientColorPreviewColorIndex,
            });
        };
        _this.handleImageLoaded = function (imagePreview) {
            return _this.setState({ imagePreview: imagePreview });
        };
        _this.handleImageUploaded = function () { return _this.setState({ imagePreview: undefined }); };
        _this.handleChangeModeSwitch = function (mode, modeFlag) { return function () {
            modeFlag ^= mode;
            _this.props.onChange({ modeFlag: modeFlag });
        }; };
        _this.state = {};
        return _this;
    }
    BackgroundDefaultControls.prototype.render = function () {
        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Inner__WEBPACK_IMPORTED_MODULE_1__["default"], __assign({}, this.props, { handleChangeDarken: this.handleChangeDarken, handleChangeDarkenPreview: this.handleChangeDarkenPreview, handleChangeLighten: this.handleChangeLighten, handleChangeLightenPreview: this.handleChangeLightenPreview, handleChangeHasPadding: this.handleChangeHasPadding, handleChangeModeSwitch: this.handleChangeModeSwitch, handleChangeBackgroundColorPreview: this.handleChangeBackgroundColorPreview, handleChangeGradientDegPreview: this.handleChangeGradientDegPreview, handleChangeGradientOpacityPreview: this.handleChangeGradientOpacityPreview, handleChangeGradientColorPreview: this.handleChangeGradientColorPreview, handleImageLoaded: this.handleImageLoaded, handleImageUploaded: this.handleImageUploaded }, this.state)));
    };
    return BackgroundDefaultControls;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component));
/* harmony default export */ __webpack_exports__["default"] = (BackgroundDefaultControls);
//# sourceMappingURL=Controls.js.map

/***/ }),

/***/ "../packages/plugins/layout/background/lib-es/Controls/Inner.js":
/*!**********************************************************************!*\
  !*** ../packages/plugins/layout/background/lib-es/Controls/Inner.js ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _material_ui_core_FormControlLabel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @material-ui/core/FormControlLabel */ "../node_modules/@material-ui/core/esm/FormControlLabel/index.js");
/* harmony import */ var _material_ui_core_Slider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material-ui/core/Slider */ "../node_modules/@material-ui/core/esm/Slider/index.js");
/* harmony import */ var _material_ui_core_Switch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material-ui/core/Switch */ "../node_modules/@material-ui/core/esm/Switch/index.js");
/* harmony import */ var _material_ui_core_Tab__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/core/Tab */ "../node_modules/@material-ui/core/esm/Tab/index.js");
/* harmony import */ var _material_ui_core_Tabs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @material-ui/core/Tabs */ "../node_modules/@material-ui/core/esm/Tabs/index.js");
/* harmony import */ var _material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @material-ui/core/Typography */ "../node_modules/@material-ui/core/esm/Typography/index.js");
/* harmony import */ var _material_ui_icons_ColorLens__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @material-ui/icons/ColorLens */ "../node_modules/@material-ui/icons/ColorLens.js");
/* harmony import */ var _material_ui_icons_ColorLens__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_ColorLens__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _material_ui_icons_Gradient__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @material-ui/icons/Gradient */ "../node_modules/@material-ui/icons/Gradient.js");
/* harmony import */ var _material_ui_icons_Gradient__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_Gradient__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _material_ui_icons_Landscape__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @material-ui/icons/Landscape */ "../node_modules/@material-ui/icons/Landscape.js");
/* harmony import */ var _material_ui_icons_Landscape__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_Landscape__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react */ "../node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _types_ModeEnum__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../types/ModeEnum */ "../packages/plugins/layout/background/lib-es/types/ModeEnum.js");
/* harmony import */ var _sub_Color__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./sub/Color */ "../packages/plugins/layout/background/lib-es/Controls/sub/Color.js");
/* harmony import */ var _sub_Image__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./sub/Image */ "../packages/plugins/layout/background/lib-es/Controls/sub/Image.js");
/* harmony import */ var _sub_LinearGradient__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./sub/LinearGradient */ "../packages/plugins/layout/background/lib-es/Controls/sub/LinearGradient.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};














var Inner = /** @class */ (function (_super) {
    __extends(Inner, _super);
    function Inner(props) {
        var _this = _super.call(this, props) || this;
        _this.renderModeSwitch = function () {
            var _a = _this.props.data.modeFlag, modeFlag = _a === void 0 ? _this.props.defaultModeFlag : _a;
            return (react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_material_ui_core_FormControlLabel__WEBPACK_IMPORTED_MODULE_0__["default"], { style: { marginBottom: 16 }, control: react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_material_ui_core_Switch__WEBPACK_IMPORTED_MODULE_2__["default"], { onChange: _this.props.handleChangeModeSwitch(_this.state.mode, modeFlag), checked: Boolean(modeFlag & _this.state.mode) }), label: _this.props.translations.onOff }));
        };
        _this.renderUI = function () {
            switch (_this.state.mode) {
                case _types_ModeEnum__WEBPACK_IMPORTED_MODULE_10__["ModeEnum"].COLOR_MODE_FLAG:
                    return (react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_9___default.a.Fragment, null,
                        _this.renderModeSwitch(),
                        react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_sub_Color__WEBPACK_IMPORTED_MODULE_11__["default"], __assign({}, _this.props, { ensureModeOn: _this.ensureModeOn(_types_ModeEnum__WEBPACK_IMPORTED_MODULE_10__["ModeEnum"].COLOR_MODE_FLAG), onChangeBackgroundColorPreview: _this.props.handleChangeBackgroundColorPreview, backgroundColorPreview: _this.props.backgroundColorPreview }))));
                case _types_ModeEnum__WEBPACK_IMPORTED_MODULE_10__["ModeEnum"].GRADIENT_MODE_FLAG:
                    return (react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_9___default.a.Fragment, null,
                        _this.renderModeSwitch(),
                        react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_sub_LinearGradient__WEBPACK_IMPORTED_MODULE_13__["default"], __assign({}, _this.props, { ensureModeOn: _this.ensureModeOn(_types_ModeEnum__WEBPACK_IMPORTED_MODULE_10__["ModeEnum"].GRADIENT_MODE_FLAG), gradientDegPreview: _this.props.gradientDegPreview, gradientDegPreviewIndex: _this.props.gradientDegPreviewIndex, gradientOpacityPreview: _this.props.gradientOpacityPreview, gradientOpacityPreviewIndex: _this.props.gradientOpacityPreviewIndex, gradientColorPreview: _this.props.gradientColorPreview, gradientColorPreviewIndex: _this.props.gradientColorPreviewIndex, gradientColorPreviewColorIndex: _this.props.gradientColorPreviewColorIndex, onChangeGradientDegPreview: _this.props.handleChangeGradientDegPreview, onChangeGradientOpacityPreview: _this.props.handleChangeGradientOpacityPreview, onChangeGradientColorPreview: _this.props.handleChangeGradientColorPreview }))));
                case _types_ModeEnum__WEBPACK_IMPORTED_MODULE_10__["ModeEnum"].IMAGE_MODE_FLAG:
                default:
                    return (react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_9___default.a.Fragment, null,
                        _this.renderModeSwitch(),
                        react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_sub_Image__WEBPACK_IMPORTED_MODULE_12__["default"], __assign({}, _this.props, { onImageLoaded: _this.props.handleImageLoaded, onImageUploaded: _this.props.handleImageUploaded, ensureModeOn: _this.ensureModeOn(_types_ModeEnum__WEBPACK_IMPORTED_MODULE_10__["ModeEnum"].IMAGE_MODE_FLAG) }))));
            }
        };
        _this.ensureModeOn = function (mode) { return function () {
            var _a = _this.props.data.modeFlag, modeFlag = _a === void 0 ? _this.props.defaultModeFlag : _a;
            if ((modeFlag & mode) === 0) {
                _this.props.handleChangeModeSwitch(mode, modeFlag)();
            }
        }; };
        _this.handleChangeMode = function (e, mode) {
            return _this.setState({ mode: mode });
        };
        _this.state = {
            mode: props.defaultMode,
        };
        return _this;
    }
    Inner.prototype.render = function () {
        var _this = this;
        var _a = this.props.data, _b = _a.hasPadding, hasPadding = _b === void 0 ? this.props.defaultHasPadding : _b, _c = _a.modeFlag, modeFlag = _c === void 0 ? this.props.defaultModeFlag : _c, _d = _a.darken, darken = _d === void 0 ? this.props.defaultDarken : _d, _e = _a.lighten, lighten = _e === void 0 ? this.props.defaultLighten : _e;
        var darkenFinal = this.props.darkenPreview !== undefined
            ? this.props.darkenPreview
            : darken;
        var lightenFinal = this.props.lightenPreview !== undefined
            ? this.props.lightenPreview
            : lighten;
        return (react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", null,
            react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_material_ui_core_Tabs__WEBPACK_IMPORTED_MODULE_4__["default"], { style: { marginBottom: 16 }, value: this.state.mode, onChange: this.handleChangeMode, centered: true },
                (this.props.enabledModes & _types_ModeEnum__WEBPACK_IMPORTED_MODULE_10__["ModeEnum"].IMAGE_MODE_FLAG) > 0 && (react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_material_ui_core_Tab__WEBPACK_IMPORTED_MODULE_3__["default"], { icon: react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_material_ui_icons_Landscape__WEBPACK_IMPORTED_MODULE_8___default.a, { color: (modeFlag & _types_ModeEnum__WEBPACK_IMPORTED_MODULE_10__["ModeEnum"].IMAGE_MODE_FLAG) > 0
                            ? 'secondary'
                            : undefined }), label: this.props.translations.imageMode, value: _types_ModeEnum__WEBPACK_IMPORTED_MODULE_10__["ModeEnum"].IMAGE_MODE_FLAG })),
                (this.props.enabledModes & _types_ModeEnum__WEBPACK_IMPORTED_MODULE_10__["ModeEnum"].COLOR_MODE_FLAG) > 0 && (react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_material_ui_core_Tab__WEBPACK_IMPORTED_MODULE_3__["default"], { icon: react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_material_ui_icons_ColorLens__WEBPACK_IMPORTED_MODULE_6___default.a, { color: (modeFlag & _types_ModeEnum__WEBPACK_IMPORTED_MODULE_10__["ModeEnum"].COLOR_MODE_FLAG) > 0
                            ? 'secondary'
                            : undefined }), label: this.props.translations.colorMode, value: _types_ModeEnum__WEBPACK_IMPORTED_MODULE_10__["ModeEnum"].COLOR_MODE_FLAG })),
                (this.props.enabledModes & _types_ModeEnum__WEBPACK_IMPORTED_MODULE_10__["ModeEnum"].GRADIENT_MODE_FLAG) > 0 && (react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_material_ui_core_Tab__WEBPACK_IMPORTED_MODULE_3__["default"], { icon: react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_material_ui_icons_Gradient__WEBPACK_IMPORTED_MODULE_7___default.a, { color: (modeFlag & _types_ModeEnum__WEBPACK_IMPORTED_MODULE_10__["ModeEnum"].GRADIENT_MODE_FLAG) > 0
                            ? 'secondary'
                            : undefined }), label: this.props.translations.gradientMode, value: _types_ModeEnum__WEBPACK_IMPORTED_MODULE_10__["ModeEnum"].GRADIENT_MODE_FLAG }))),
            this.renderUI(),
            react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("br", null),
            react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", { style: { display: 'flex' } },
                react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", { style: { flex: 1 } },
                    react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_5__["default"], { variant: "body1", id: "linear-gradient-darken-label" },
                        this.props.translations.darken,
                        " (",
                        (darkenFinal * 100).toFixed(0),
                        "%)"),
                    react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_material_ui_core_Slider__WEBPACK_IMPORTED_MODULE_1__["default"], { "aria-labelledby": "linear-gradient-darken-label", value: darkenFinal, onChange: function (e, value) {
                            return _this.props.handleChangeDarkenPreview(value instanceof Array ? value[0] : value);
                        }, onChangeCommitted: this.props.handleChangeDarken, step: 0.01, min: 0, max: 1 })),
                react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", { style: { flex: 1, marginLeft: 16 } },
                    react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_5__["default"], { variant: "body1", id: "linear-gradient-lighten-label" },
                        this.props.translations.lighten,
                        " (",
                        (lightenFinal * 100).toFixed(0),
                        "%)"),
                    react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_material_ui_core_Slider__WEBPACK_IMPORTED_MODULE_1__["default"], { "aria-labelledby": "linear-gradient-lighten-label", value: lightenFinal, onChange: function (e, value) {
                            return _this.props.handleChangeLightenPreview(value instanceof Array ? value[0] : value);
                        }, onChangeCommitted: this.props.handleChangeLighten, step: 0.01, min: 0, max: 1 })),
                react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", { style: { flex: 1, marginLeft: 16 } },
                    react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_material_ui_core_FormControlLabel__WEBPACK_IMPORTED_MODULE_0__["default"], { control: react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_material_ui_core_Switch__WEBPACK_IMPORTED_MODULE_2__["default"], { onChange: this.props.handleChangeHasPadding, checked: hasPadding }), label: this.props.translations.usePadding })))));
    };
    return Inner;
}(react__WEBPACK_IMPORTED_MODULE_9___default.a.Component));
/* harmony default export */ __webpack_exports__["default"] = (Inner);
//# sourceMappingURL=Inner.js.map

/***/ }),

/***/ "../packages/plugins/layout/background/lib-es/Controls/sub/Color.js":
/*!**************************************************************************!*\
  !*** ../packages/plugins/layout/background/lib-es/Controls/sub/Color.js ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _react_page_editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @react-page/editor */ "../packages/editor/lib-es/index.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var ColorComponent = /** @class */ (function (_super) {
    __extends(ColorComponent, _super);
    function ColorComponent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.handleChangePickerBackgroundColor = function (e) {
            return _this.props.onChangeBackgroundColorPreview &&
                _this.props.onChangeBackgroundColorPreview(e);
        };
        _this.handleChangePickerBackgroundColorComplete = function (e) {
            if (_this.props.onChangeBackgroundColorPreview) {
                _this.props.onChangeBackgroundColorPreview(undefined);
            }
            _this.props.onChange({ backgroundColor: e });
        };
        return _this;
    }
    ColorComponent.prototype.render = function () {
        var _a = this.props, backgroundColorPreview = _a.backgroundColorPreview, _b = _a.data.backgroundColor, backgroundColor = _b === void 0 ? this.props.defaultBackgroundColor : _b;
        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { style: { display: 'flex' } },
            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_react_page_editor__WEBPACK_IMPORTED_MODULE_1__["ColorPicker"], { color: backgroundColorPreview ? backgroundColorPreview : backgroundColor, onChange: this.handleChangePickerBackgroundColor, onDialogOpen: this.props.ensureModeOn, onChangeComplete: this.handleChangePickerBackgroundColorComplete, style: { margin: 'auto' } })));
    };
    return ColorComponent;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]));
/* harmony default export */ __webpack_exports__["default"] = (ColorComponent);
//# sourceMappingURL=Color.js.map

/***/ }),

/***/ "../packages/plugins/layout/background/lib-es/Controls/sub/Image.js":
/*!**************************************************************************!*\
  !*** ../packages/plugins/layout/background/lib-es/Controls/sub/Image.js ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _material_ui_core_Switch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material-ui/core/Switch */ "../node_modules/@material-ui/core/esm/Switch/index.js");
/* harmony import */ var _material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material-ui/core/TextField */ "../node_modules/@material-ui/core/esm/TextField/index.js");
/* harmony import */ var _material_ui_core_FormControlLabel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/core/FormControlLabel */ "../node_modules/@material-ui/core/esm/FormControlLabel/index.js");
/* harmony import */ var _react_page_editor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @react-page/editor */ "../packages/editor/lib-es/index.js");
/* harmony import */ var _material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @material-ui/core/Typography */ "../node_modules/@material-ui/core/esm/Typography/index.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();






var ImageComponent = /** @class */ (function (_super) {
    __extends(ImageComponent, _super);
    function ImageComponent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.handleChangeBackground = function (e) {
            _this.props.ensureModeOn();
            _this.props.onChange({ background: e.target.value });
        };
        _this.handleChangeIsParallax = function (e) {
            _this.props.ensureModeOn();
            _this.props.onChange({
                isParallax: _this.props.data.isParallax === undefined
                    ? false
                    : !_this.props.data.isParallax,
            });
        };
        _this.handleImageLoaded = function (image) {
            _this.props.ensureModeOn();
            _this.props.onImageLoaded(image);
        };
        _this.handleImageUploaded = function (resp) {
            _this.props.onImageUploaded();
            _this.props.onChange({ background: resp.url });
        };
        return _this;
    }
    ImageComponent.prototype.render = function () {
        var _a = this.props.data, _b = _a.isParallax, isParallax = _b === void 0 ? true : _b, _c = _a.background, background = _c === void 0 ? '' : _c;
        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null,
            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { style: { display: 'flex' } },
                this.props.imageUpload && (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null,
                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_react_page_editor__WEBPACK_IMPORTED_MODULE_4__["ImageUpload"], { translations: this.props.translations, imageUpload: this.props.imageUpload, imageLoaded: this.handleImageLoaded, imageUploaded: this.handleImageUploaded }),
                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_5__["default"], { variant: "body1", style: { margin: '20px 16px 0 16px' } }, this.props.translations.or))),
                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_2__["default"], { placeholder: this.props.translations.srcPlaceholder, label: this.props.imageUpload
                        ? this.props.translations.haveUrl
                        : this.props.translations.imageUrl, style: { width: '256px' }, value: background, onChange: this.handleChangeBackground }),
                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_FormControlLabel__WEBPACK_IMPORTED_MODULE_3__["default"], { control: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Switch__WEBPACK_IMPORTED_MODULE_1__["default"], { onChange: this.handleChangeIsParallax, checked: isParallax }), label: this.props.translations.isParallax }))));
    };
    return ImageComponent;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component));
/* harmony default export */ __webpack_exports__["default"] = (ImageComponent);
//# sourceMappingURL=Image.js.map

/***/ }),

/***/ "../packages/plugins/layout/background/lib-es/Controls/sub/LinearGradient.js":
/*!***********************************************************************************!*\
  !*** ../packages/plugins/layout/background/lib-es/Controls/sub/LinearGradient.js ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _material_ui_core_Button__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @material-ui/core/Button */ "../node_modules/@material-ui/core/esm/Button/index.js");
/* harmony import */ var _material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material-ui/core/IconButton */ "../node_modules/@material-ui/core/esm/IconButton/index.js");
/* harmony import */ var _material_ui_core_Slider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material-ui/core/Slider */ "../node_modules/@material-ui/core/esm/Slider/index.js");
/* harmony import */ var _material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/core/Typography */ "../node_modules/@material-ui/core/esm/Typography/index.js");
/* harmony import */ var _material_ui_icons_Delete__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @material-ui/icons/Delete */ "../node_modules/@material-ui/icons/Delete.js");
/* harmony import */ var _material_ui_icons_Delete__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_Delete__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _react_page_editor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @react-page/editor */ "../packages/editor/lib-es/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "../node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};







var LinearGradientComponent = /** @class */ (function (_super) {
    __extends(LinearGradientComponent, _super);
    function LinearGradientComponent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.addGradient = function () {
            _this.props.ensureModeOn();
            _this.props.onChange({
                gradients: (_this.props.data.gradients
                    ? _this.props.data.gradients
                    : []).concat({
                    deg: 45,
                    opacity: 1,
                }),
            });
        };
        _this.handleChangeDeg = function (index, value) { return function () {
            _this.props.onChangeGradientDegPreview &&
                _this.props.onChangeGradientDegPreview(undefined, undefined);
            _this.props.onChange({
                gradients: (_this.props.data.gradients
                    ? _this.props.data.gradients
                    : []).map(function (g, i) { return (i === index ? __assign(__assign({}, g), { deg: value }) : g); }),
            });
        }; };
        _this.handleChangeDegPreview = function (index) { return function (e, value) {
            _this.props.onChangeGradientDegPreview &&
                _this.props.onChangeGradientDegPreview(value, index);
        }; };
        _this.handleChangeOpacity = function (index, value) { return function () {
            _this.props.onChangeGradientOpacityPreview &&
                _this.props.onChangeGradientOpacityPreview(undefined, undefined);
            _this.props.onChange({
                gradients: (_this.props.data.gradients
                    ? _this.props.data.gradients
                    : []).map(function (g, i) { return (i === index ? __assign(__assign({}, g), { opacity: value }) : g); }),
            });
        }; };
        _this.handleChangeOpacityPreview = function (index) { return function (e, value) {
            _this.props.onChangeGradientOpacityPreview &&
                _this.props.onChangeGradientOpacityPreview(value, index);
        }; };
        _this.handleChangeGradientColor = function (index, cpIndex) { return function (e) {
            _this.props.onChangeGradientColorPreview &&
                _this.props.onChangeGradientColorPreview(undefined, undefined, undefined);
            _this.props.onChange({
                gradients: []
                    .concat(_this.props.data.gradients ? _this.props.data.gradients : [])
                    .map(function (g, i) {
                    return i === index
                        ? __assign(__assign({}, g), { colors: (g.colors ? g.colors : []).map(function (c, cpI) {
                                return cpI === cpIndex ? __assign(__assign({}, c), { color: e }) : c;
                            }) }) : g;
                }),
            });
        }; };
        _this.handleChangeGradientColorPreview = function (index, cpIndex) { return function (e) {
            _this.props.onChangeGradientColorPreview &&
                _this.props.onChangeGradientColorPreview(e, index, cpIndex);
        }; };
        _this.addColor = function (index) { return function () {
            _this.props.ensureModeOn();
            _this.props.onChange({
                gradients: (_this.props.data.gradients
                    ? _this.props.data.gradients
                    : []).map(function (g, i) {
                    return i === index
                        ? __assign(__assign({}, g), { colors: (g.colors ? g.colors : []).concat({
                                color: (g.colors ? g.colors : []).length % 2 === index % 2
                                    ? _this.props.defaultGradientColor
                                    : _this.props.defaultGradientSecondaryColor,
                            }) }) : g;
                }),
            });
        }; };
        _this.removeColor = function (index, cpIndex) { return function () {
            _this.props.onChange({
                gradients: []
                    .concat(_this.props.data.gradients ? _this.props.data.gradients : [])
                    .map(function (g, i) {
                    return i === index
                        ? __assign(__assign({}, g), { colors: (g.colors ? g.colors : []).filter(function (c, cpI) { return cpI !== cpIndex; }) }) : g;
                }),
            });
        }; };
        _this.removeGradient = function (index) { return function () {
            _this.props.onChange({
                gradients: []
                    .concat(_this.props.data.gradients ? _this.props.data.gradients : [])
                    .filter(function (item, i) { return i !== index; }),
            });
        }; };
        return _this;
    }
    LinearGradientComponent.prototype.render = function () {
        var _this = this;
        var _a = this.props, gradientDegPreview = _a.gradientDegPreview, gradientDegPreviewIndex = _a.gradientDegPreviewIndex, gradientOpacityPreview = _a.gradientOpacityPreview, gradientOpacityPreviewIndex = _a.gradientOpacityPreviewIndex, gradientColorPreview = _a.gradientColorPreview, gradientColorPreviewIndex = _a.gradientColorPreviewIndex, gradientColorPreviewColorIndex = _a.gradientColorPreviewColorIndex, _b = _a.data.gradients, gradients = _b === void 0 ? [] : _b;
        return (react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", null,
            gradients.map(function (gradient, i) {
                var colors = gradient.colors ? gradient.colors : [];
                var deg = i === gradientDegPreviewIndex && gradientDegPreview !== undefined
                    ? gradientDegPreview
                    : gradient.deg;
                var opacity = i === gradientOpacityPreviewIndex &&
                    gradientOpacityPreview !== undefined
                    ? gradientOpacityPreview
                    : gradient.opacity;
                return (react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", { key: i },
                    react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", { style: { display: 'flex', maxWidth: '96%' } },
                        react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", { style: { flex: 1 } },
                            react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_3__["default"], { variant: "body1", id: "linear-gradient-degree-label" },
                                _this.props.translations.gradientRotation,
                                " (",
                                deg,
                                _this.props.translations.degrees,
                                ")"),
                            react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_material_ui_core_Slider__WEBPACK_IMPORTED_MODULE_2__["default"], { "aria-labelledby": "linear-gradient-degree-label", value: deg, onChange: _this.handleChangeDegPreview(i), onChangeCommitted: _this.handleChangeDeg(i, deg), step: 5, min: 0, max: 360 })),
                        react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", { style: { flex: 1, marginLeft: 16 } },
                            react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_3__["default"], { variant: "body1", id: "linear-gradient-opacity-label" },
                                _this.props.translations.gradientOpacity,
                                " (",
                                (opacity * 100).toFixed(0),
                                "%)"),
                            react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_material_ui_core_Slider__WEBPACK_IMPORTED_MODULE_2__["default"], { "aria-labelledby": "linear-gradient-opacity-label", value: opacity, onChange: _this.handleChangeOpacityPreview(i), onChangeCommitted: _this.handleChangeOpacity(i, opacity), step: 0.01, min: 0, max: 1 }))),
                    react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", { style: { marginBottom: 32 } },
                        colors.map(function (c, cpIndex) {
                            var color = i === gradientColorPreviewIndex &&
                                cpIndex === gradientColorPreviewColorIndex &&
                                gradientColorPreview !== undefined
                                ? gradientColorPreview
                                : c.color;
                            return (react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment, { key: cpIndex },
                                react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_react_page_editor__WEBPACK_IMPORTED_MODULE_5__["ColorPicker"], { buttonContent: 'Select color ' + cpIndex, style: { marginLeft: '8px' }, color: color, onChange: _this.handleChangeGradientColorPreview(i, cpIndex), onChangeComplete: _this.handleChangeGradientColor(i, cpIndex) }),
                                react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_1__["default"], { "aria-label": "Delete", onClick: _this.removeColor(i, cpIndex) },
                                    react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_material_ui_icons_Delete__WEBPACK_IMPORTED_MODULE_4___default.a, null))));
                        }),
                        react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_0__["default"], { variant: "contained", onClick: _this.addColor(i), style: { marginLeft: '8px' } }, _this.props.translations.addColor),
                        react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_1__["default"], { "aria-label": "Delete", onClick: _this.removeGradient(i) },
                            react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_material_ui_icons_Delete__WEBPACK_IMPORTED_MODULE_4___default.a, null)))));
            }),
            react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_0__["default"], { style: {
                    margin: 'auto',
                }, variant: "outlined", onClick: this.addGradient, disabled: gradients.length > 5 }, this.props.translations.addGradient)));
    };
    return LinearGradientComponent;
}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component));
/* harmony default export */ __webpack_exports__["default"] = (LinearGradientComponent);
//# sourceMappingURL=LinearGradient.js.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvaWNvbnMvQ29sb3JMZW5zLmpzIiwid2VicGFjazovL19OX0UvLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9pY29ucy9HcmFkaWVudC5qcyIsIndlYnBhY2s6Ly9fTl9FLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvaWNvbnMvTGFuZHNjYXBlLmpzIiwid2VicGFjazovL19OX0UvLi4vcGFja2FnZXMvcGx1Z2lucy9sYXlvdXQvYmFja2dyb3VuZC9saWItZXMvQ29udHJvbHMvQ29udHJvbHMuanMiLCJ3ZWJwYWNrOi8vX05fRS8uLi9wYWNrYWdlcy9wbHVnaW5zL2xheW91dC9iYWNrZ3JvdW5kL2xpYi1lcy9Db250cm9scy9Jbm5lci5qcyIsIndlYnBhY2s6Ly9fTl9FLy4uL3BhY2thZ2VzL3BsdWdpbnMvbGF5b3V0L2JhY2tncm91bmQvbGliLWVzL0NvbnRyb2xzL3N1Yi9Db2xvci5qcyIsIndlYnBhY2s6Ly9fTl9FLy4uL3BhY2thZ2VzL3BsdWdpbnMvbGF5b3V0L2JhY2tncm91bmQvbGliLWVzL0NvbnRyb2xzL3N1Yi9JbWFnZS5qcyIsIndlYnBhY2s6Ly9fTl9FLy4uL3BhY2thZ2VzL3BsdWdpbnMvbGF5b3V0L2JhY2tncm91bmQvbGliLWVzL0NvbnRyb2xzL3N1Yi9MaW5lYXJHcmFkaWVudC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQWE7O0FBRWIsNkJBQTZCLG1CQUFPLENBQUMscUhBQThDOztBQUVuRiw4QkFBOEIsbUJBQU8sQ0FBQyx1SEFBK0M7O0FBRXJGO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUEsb0NBQW9DLG1CQUFPLENBQUMsNkNBQU87O0FBRW5ELDRDQUE0QyxtQkFBTyxDQUFDLHdGQUF1Qjs7QUFFM0U7QUFDQTtBQUNBLENBQUM7O0FBRUQsMkI7Ozs7Ozs7Ozs7OztBQ25CYTs7QUFFYiw2QkFBNkIsbUJBQU8s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LHVCQUF1QixTQUFTLG1CQUFtQixFQUFFO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyw0Q0FBSyxlQUFlLDRDQUFLLFlBQVksZUFBZTtBQUN4RixnQ0FBZ0MsNENBQUssZUFBZSw4REFBVyxHQUFHLG1EQUFtRCxvQkFBb0IsNklBQTZJO0FBQ3RSLGdDQUFnQyw0Q0FBSyxlQUFlLG9FQUFVLEdBQUcsaUVBQWlFO0FBQ2xJLG9DQUFvQyw0Q0FBSyxlQUFlLGdFQUFVO0FBQ2xFLHlCQUF5QjtBQUN6Qix3QkFBd0IsNENBQUssZUFBZSxnRUFBTSxHQUFHLDJEQUEyRCxvQkFBb0IsRUFBRTtBQUN0SSx3QkFBd0IsNENBQUssZUFBZSxvRUFBVSxHQUFHLDJEQUEyRDtBQUNwSCw0QkFBNEIsNENBQUssZUFBZSxnRUFBVTtBQUMxRCxhQUFhO0FBQ2IsWUFBWSw0Q0FBSyxlQUFlLGdFQUFNLEdBQUc7QUFDekM7QUFDQSxpQkFBaUIsa0ZBQWtGO0FBQ25HO0FBQ0E7QUFDQSxDQUFDLENBQUMsNENBQUs7QUFDUSxzRkFBdUIsRUFBQztBQUN2QywwQyIsImZpbGUiOiJzdGF0aWMvY2h1bmtzLzE2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkXCIpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgUmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG52YXIgX2NyZWF0ZVN2Z0ljb24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3V0aWxzL2NyZWF0ZVN2Z0ljb25cIikpO1xuXG52YXIgX2RlZmF1bHQgPSAoMCwgX2NyZWF0ZVN2Z0ljb24uZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gIGQ6IFwiTTEyIDNjLTQuOTcgMC05IDQuMDMtOSA5czQuMDMgOSA5IDljLjgzIDAgMS41LS42NyAxLjUtMS41IDAtLjM5LS4xNS0uNzQtLjM5LTEuMDEtLjIzLS4yNi0uMzgtLjYxLS4zOC0uOTkgMC0uODMuNjctMS41IDEuNS0xLjVIMTZjMi43NiAwIDUtMi4yNCA1LTUgMC00LjQyLTQuMDMtOC05LTh6bS01LjUgOWMtLjgzIDAtMS41LS42Ny0xLjUtMS41UzUuNjcgOSA2LjUgOSA4IDkuNjcgOCAxMC41IDcuMzMgMTIgNi41IDEyem0zLTRDOC42NyA4IDggNy4zMyA4IDYuNVM4LjY3IDUgOS41IDVzMS41LjY3IDEuNSAxLjVTMTAuMzMgOCA5LjUgOHptNSAwYy0uODMgMC0xLjUtLjY3LTEuNS0xLjVTMTMuNjcgNSAxNC41IDVzMS41LjY3IDEuNSAxLjVTMTUuMzMgOCAxNC41IDh6bTMgNGMtLjgzIDAtMS41LS42Ny0xLjUtMS41UzE2LjY3IDkgMTcuNSA5czEuNS42NyAxLjUgMS41LS42NyAxLjUtMS41IDEuNXpcIlxufSksICdDb2xvckxlbnMnKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkXCIpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgUmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG52YXIgX2NyZWF0ZVN2Z0ljb24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3V0aWxzL2NyZWF0ZVN2Z0ljb25cIikpO1xuXG52YXIgX2RlZmF1bHQgPSAoMCwgX2NyZWF0ZVN2Z0ljb24uZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gIGQ6IFwiTTExIDloMnYyaC0yem0tMiAyaDJ2Mkg5em00IDBoMnYyaC0yem0yLTJoMnYyaC0yek03IDloMnYySDd6bTEyLTZINWMtMS4xIDAtMiAuOS0yIDJ2MTRjMCAxLjEuOSAyIDIgMmgxNGMxLjEgMCAyLS45IDItMlY1YzAtMS4xLS45LTItMi0yek05IDE4SDd2LTJoMnYyem00IDBoLTJ2LTJoMnYyem00IDBoLTJ2LTJoMnYyem0yLTdoLTJ2MmgydjJoLTJ2LTJoLTJ2MmgtMnYtMmgtMnYySDl2LTJIN3YySDV2LTJoMnYtMkg1VjVoMTR2NnpcIlxufSksICdHcmFkaWVudCcpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIik7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlV2lsZGNhcmRcIik7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBSZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfY3JlYXRlU3ZnSWNvbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vdXRpbHMvY3JlYXRlU3ZnSWNvblwiKSk7XG5cbnZhciBfZGVmYXVsdCA9ICgwLCBfY3JlYXRlU3ZnSWNvbi5kZWZhdWx0KSggLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgZDogXCJNMTQgNmwtMy43NSA1IDIuODUgMy44LTEuNiAxLjJDOS44MSAxMy43NSA3IDEwIDcgMTBsLTYgOGgyMkwxNCA2elwiXG59KSwgJ0xhbmRzY2FwZScpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxyXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59O1xyXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgSW5uZXIgZnJvbSAnLi9Jbm5lcic7XHJcbnZhciBCYWNrZ3JvdW5kRGVmYXVsdENvbnRyb2xzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEJhY2tncm91bmREZWZhdWx0Q29udHJvbHMsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBCYWNrZ3JvdW5kRGVmYXVsdENvbnRyb2xzKHByb3BzKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuaGFuZGxlQ2hhbmdlRGFya2VuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZSh7IGRhcmtlbjogX3RoaXMuc3RhdGUuZGFya2VuUHJldmlldyB9KTtcclxuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBkYXJrZW5QcmV2aWV3OiB1bmRlZmluZWQgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5oYW5kbGVDaGFuZ2VEYXJrZW5QcmV2aWV3ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgZGFya2VuUHJldmlldzogdmFsdWUgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5oYW5kbGVDaGFuZ2VMaWdodGVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZSh7IGxpZ2h0ZW46IF90aGlzLnN0YXRlLmxpZ2h0ZW5QcmV2aWV3IH0pO1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGxpZ2h0ZW5QcmV2aWV3OiB1bmRlZmluZWQgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5oYW5kbGVDaGFuZ2VMaWdodGVuUHJldmlldyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGxpZ2h0ZW5QcmV2aWV3OiB2YWx1ZSB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIF90aGlzLmhhbmRsZUNoYW5nZUhhc1BhZGRpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKHtcclxuICAgICAgICAgICAgICAgIGhhc1BhZGRpbmc6IF90aGlzLnByb3BzLmRhdGEuaGFzUGFkZGluZyA9PT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICAgICAgPyAhX3RoaXMucHJvcHMuZGVmYXVsdEhhc1BhZGRpbmdcclxuICAgICAgICAgICAgICAgICAgICA6ICFfdGhpcy5wcm9wcy5kYXRhLmhhc1BhZGRpbmcsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMuaGFuZGxlQ2hhbmdlQmFja2dyb3VuZENvbG9yUHJldmlldyA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5zZXRTdGF0ZSh7IGJhY2tncm91bmRDb2xvclByZXZpZXc6IGUgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5oYW5kbGVDaGFuZ2VHcmFkaWVudERlZ1ByZXZpZXcgPSBmdW5jdGlvbiAoZ3JhZGllbnREZWdQcmV2aWV3LCBncmFkaWVudERlZ1ByZXZpZXdJbmRleCkgeyByZXR1cm4gX3RoaXMuc2V0U3RhdGUoeyBncmFkaWVudERlZ1ByZXZpZXc6IGdyYWRpZW50RGVnUHJldmlldywgZ3JhZGllbnREZWdQcmV2aWV3SW5kZXg6IGdyYWRpZW50RGVnUHJldmlld0luZGV4IH0pOyB9O1xyXG4gICAgICAgIF90aGlzLmhhbmRsZUNoYW5nZUdyYWRpZW50T3BhY2l0eVByZXZpZXcgPSBmdW5jdGlvbiAoZ3JhZGllbnRPcGFjaXR5UHJldmlldywgZ3JhZGllbnRPcGFjaXR5UHJldmlld0luZGV4KSB7IHJldHVybiBfdGhpcy5zZXRTdGF0ZSh7IGdyYWRpZW50T3BhY2l0eVByZXZpZXc6IGdyYWRpZW50T3BhY2l0eVByZXZpZXcsIGdyYWRpZW50T3BhY2l0eVByZXZpZXdJbmRleDogZ3JhZGllbnRPcGFjaXR5UHJldmlld0luZGV4IH0pOyB9O1xyXG4gICAgICAgIF90aGlzLmhhbmRsZUNoYW5nZUdyYWRpZW50Q29sb3JQcmV2aWV3ID0gZnVuY3Rpb24gKGdyYWRpZW50Q29sb3JQcmV2aWV3LCBncmFkaWVudENvbG9yUHJldmlld0luZGV4LCBncmFkaWVudENvbG9yUHJldmlld0NvbG9ySW5kZXgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIGdyYWRpZW50Q29sb3JQcmV2aWV3OiBncmFkaWVudENvbG9yUHJldmlldyxcclxuICAgICAgICAgICAgICAgIGdyYWRpZW50Q29sb3JQcmV2aWV3SW5kZXg6IGdyYWRpZW50Q29sb3JQcmV2aWV3SW5kZXgsXHJcbiAgICAgICAgICAgICAgICBncmFkaWVudENvbG9yUHJldmlld0NvbG9ySW5kZXg6IGdyYWRpZW50Q29sb3JQcmV2aWV3Q29sb3JJbmRleCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5oYW5kbGVJbWFnZUxvYWRlZCA9IGZ1bmN0aW9uIChpbWFnZVByZXZpZXcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnNldFN0YXRlKHsgaW1hZ2VQcmV2aWV3OiBpbWFnZVByZXZpZXcgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5oYW5kbGVJbWFnZVVwbG9hZGVkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuc2V0U3RhdGUoeyBpbWFnZVByZXZpZXc6IHVuZGVmaW5lZCB9KTsgfTtcclxuICAgICAgICBfdGhpcy5oYW5kbGVDaGFuZ2VNb2RlU3dpdGNoID0gZnVuY3Rpb24gKG1vZGUsIG1vZGVGbGFnKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG1vZGVGbGFnIF49IG1vZGU7XHJcbiAgICAgICAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKHsgbW9kZUZsYWc6IG1vZGVGbGFnIH0pO1xyXG4gICAgICAgIH07IH07XHJcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7fTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBCYWNrZ3JvdW5kRGVmYXVsdENvbnRyb2xzLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KElubmVyLCBfX2Fzc2lnbih7fSwgdGhpcy5wcm9wcywgeyBoYW5kbGVDaGFuZ2VEYXJrZW46IHRoaXMuaGFuZGxlQ2hhbmdlRGFya2VuLCBoYW5kbGVDaGFuZ2VEYXJrZW5QcmV2aWV3OiB0aGlzLmhhbmRsZUNoYW5nZURhcmtlblByZXZpZXcsIGhhbmRsZUNoYW5nZUxpZ2h0ZW46IHRoaXMuaGFuZGxlQ2hhbmdlTGlnaHRlbiwgaGFuZGxlQ2hhbmdlTGlnaHRlblByZXZpZXc6IHRoaXMuaGFuZGxlQ2hhbmdlTGlnaHRlblByZXZpZXcsIGhhbmRsZUNoYW5nZUhhc1BhZGRpbmc6IHRoaXMuaGFuZGxlQ2hhbmdlSGFzUGFkZGluZywgaGFuZGxlQ2hhbmdlTW9kZVN3aXRjaDogdGhpcy5oYW5kbGVDaGFuZ2VNb2RlU3dpdGNoLCBoYW5kbGVDaGFuZ2VCYWNrZ3JvdW5kQ29sb3JQcmV2aWV3OiB0aGlzLmhhbmRsZUNoYW5nZUJhY2tncm91bmRDb2xvclByZXZpZXcsIGhhbmRsZUNoYW5nZUdyYWRpZW50RGVnUHJldmlldzogdGhpcy5oYW5kbGVDaGFuZ2VHcmFkaWVudERlZ1ByZXZpZXcsIGhhbmRsZUNoYW5nZUdyYWRpZW50T3BhY2l0eVByZXZpZXc6IHRoaXMuaGFuZGxlQ2hhbmdlR3JhZGllbnRPcGFjaXR5UHJldmlldywgaGFuZGxlQ2hhbmdlR3JhZGllbnRDb2xvclByZXZpZXc6IHRoaXMuaGFuZGxlQ2hhbmdlR3JhZGllbnRDb2xvclByZXZpZXcsIGhhbmRsZUltYWdlTG9hZGVkOiB0aGlzLmhhbmRsZUltYWdlTG9hZGVkLCBoYW5kbGVJbWFnZVVwbG9hZGVkOiB0aGlzLmhhbmRsZUltYWdlVXBsb2FkZWQgfSwgdGhpcy5zdGF0ZSkpKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQmFja2dyb3VuZERlZmF1bHRDb250cm9scztcclxufShSZWFjdC5Db21wb25lbnQpKTtcclxuZXhwb3J0IGRlZmF1bHQgQmFja2dyb3VuZERlZmF1bHRDb250cm9scztcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29udHJvbHMuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcclxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufTtcclxuaW1wb3J0IEZvcm1Db250cm9sTGFiZWwgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRm9ybUNvbnRyb2xMYWJlbCc7XHJcbmltcG9ydCBTbGlkZXIgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvU2xpZGVyJztcclxuaW1wb3J0IFN3aXRjaCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9Td2l0Y2gnO1xyXG5pbXBvcnQgVGFiIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1RhYic7XHJcbmltcG9ydCBUYWJzIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1RhYnMnO1xyXG5pbXBvcnQgVHlwb2dyYXBoeSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UeXBvZ3JhcGh5JztcclxuaW1wb3J0IENvbG9ySWNvbiBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvQ29sb3JMZW5zJztcclxuaW1wb3J0IEdyYWRpZW50SWNvbiBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvR3JhZGllbnQnO1xyXG5pbXBvcnQgSW1hZ2VJY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9MYW5kc2NhcGUnO1xyXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBNb2RlRW51bSB9IGZyb20gJy4uL3R5cGVzL01vZGVFbnVtJztcclxuaW1wb3J0IENvbG9yQ29tcG9uZW50IGZyb20gJy4vc3ViL0NvbG9yJztcclxuaW1wb3J0IEltYWdlQ29tcG9uZW50IGZyb20gJy4vc3ViL0ltYWdlJztcclxuaW1wb3J0IExpbmVhckdyYWRpZW50Q29tcG9uZW50IGZyb20gJy4vc3ViL0xpbmVhckdyYWRpZW50JztcclxudmFyIElubmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKElubmVyLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gSW5uZXIocHJvcHMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5yZW5kZXJNb2RlU3dpdGNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcy5kYXRhLm1vZGVGbGFnLCBtb2RlRmxhZyA9IF9hID09PSB2b2lkIDAgPyBfdGhpcy5wcm9wcy5kZWZhdWx0TW9kZUZsYWcgOiBfYTtcclxuICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1Db250cm9sTGFiZWwsIHsgc3R5bGU6IHsgbWFyZ2luQm90dG9tOiAxNiB9LCBjb250cm9sOiBSZWFjdC5jcmVhdGVFbGVtZW50KFN3aXRjaCwgeyBvbkNoYW5nZTogX3RoaXMucHJvcHMuaGFuZGxlQ2hhbmdlTW9kZVN3aXRjaChfdGhpcy5zdGF0ZS5tb2RlLCBtb2RlRmxhZyksIGNoZWNrZWQ6IEJvb2xlYW4obW9kZUZsYWcgJiBfdGhpcy5zdGF0ZS5tb2RlKSB9KSwgbGFiZWw6IF90aGlzLnByb3BzLnRyYW5zbGF0aW9ucy5vbk9mZiB9KSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5yZW5kZXJVSSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChfdGhpcy5zdGF0ZS5tb2RlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIE1vZGVFbnVtLkNPTE9SX01PREVfRkxBRzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnJlbmRlck1vZGVTd2l0Y2goKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChDb2xvckNvbXBvbmVudCwgX19hc3NpZ24oe30sIF90aGlzLnByb3BzLCB7IGVuc3VyZU1vZGVPbjogX3RoaXMuZW5zdXJlTW9kZU9uKE1vZGVFbnVtLkNPTE9SX01PREVfRkxBRyksIG9uQ2hhbmdlQmFja2dyb3VuZENvbG9yUHJldmlldzogX3RoaXMucHJvcHMuaGFuZGxlQ2hhbmdlQmFja2dyb3VuZENvbG9yUHJldmlldywgYmFja2dyb3VuZENvbG9yUHJldmlldzogX3RoaXMucHJvcHMuYmFja2dyb3VuZENvbG9yUHJldmlldyB9KSkpKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgTW9kZUVudW0uR1JBRElFTlRfTU9ERV9GTEFHOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVuZGVyTW9kZVN3aXRjaCgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KExpbmVhckdyYWRpZW50Q29tcG9uZW50LCBfX2Fzc2lnbih7fSwgX3RoaXMucHJvcHMsIHsgZW5zdXJlTW9kZU9uOiBfdGhpcy5lbnN1cmVNb2RlT24oTW9kZUVudW0uR1JBRElFTlRfTU9ERV9GTEFHKSwgZ3JhZGllbnREZWdQcmV2aWV3OiBfdGhpcy5wcm9wcy5ncmFkaWVudERlZ1ByZXZpZXcsIGdyYWRpZW50RGVnUHJldmlld0luZGV4OiBfdGhpcy5wcm9wcy5ncmFkaWVudERlZ1ByZXZpZXdJbmRleCwgZ3JhZGllbnRPcGFjaXR5UHJldmlldzogX3RoaXMucHJvcHMuZ3JhZGllbnRPcGFjaXR5UHJldmlldywgZ3JhZGllbnRPcGFjaXR5UHJldmlld0luZGV4OiBfdGhpcy5wcm9wcy5ncmFkaWVudE9wYWNpdHlQcmV2aWV3SW5kZXgsIGdyYWRpZW50Q29sb3JQcmV2aWV3OiBfdGhpcy5wcm9wcy5ncmFkaWVudENvbG9yUHJldmlldywgZ3JhZGllbnRDb2xvclByZXZpZXdJbmRleDogX3RoaXMucHJvcHMuZ3JhZGllbnRDb2xvclByZXZpZXdJbmRleCwgZ3JhZGllbnRDb2xvclByZXZpZXdDb2xvckluZGV4OiBfdGhpcy5wcm9wcy5ncmFkaWVudENvbG9yUHJldmlld0NvbG9ySW5kZXgsIG9uQ2hhbmdlR3JhZGllbnREZWdQcmV2aWV3OiBfdGhpcy5wcm9wcy5oYW5kbGVDaGFuZ2VHcmFkaWVudERlZ1ByZXZpZXcsIG9uQ2hhbmdlR3JhZGllbnRPcGFjaXR5UHJldmlldzogX3RoaXMucHJvcHMuaGFuZGxlQ2hhbmdlR3JhZGllbnRPcGFjaXR5UHJldmlldywgb25DaGFuZ2VHcmFkaWVudENvbG9yUHJldmlldzogX3RoaXMucHJvcHMuaGFuZGxlQ2hhbmdlR3JhZGllbnRDb2xvclByZXZpZXcgfSkpKSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIE1vZGVFbnVtLklNQUdFX01PREVfRkxBRzpcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZW5kZXJNb2RlU3dpdGNoKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSW1hZ2VDb21wb25lbnQsIF9fYXNzaWduKHt9LCBfdGhpcy5wcm9wcywgeyBvbkltYWdlTG9hZGVkOiBfdGhpcy5wcm9wcy5oYW5kbGVJbWFnZUxvYWRlZCwgb25JbWFnZVVwbG9hZGVkOiBfdGhpcy5wcm9wcy5oYW5kbGVJbWFnZVVwbG9hZGVkLCBlbnN1cmVNb2RlT246IF90aGlzLmVuc3VyZU1vZGVPbihNb2RlRW51bS5JTUFHRV9NT0RFX0ZMQUcpIH0pKSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5lbnN1cmVNb2RlT24gPSBmdW5jdGlvbiAobW9kZSkgeyByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcy5kYXRhLm1vZGVGbGFnLCBtb2RlRmxhZyA9IF9hID09PSB2b2lkIDAgPyBfdGhpcy5wcm9wcy5kZWZhdWx0TW9kZUZsYWcgOiBfYTtcclxuICAgICAgICAgICAgaWYgKChtb2RlRmxhZyAmIG1vZGUpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5oYW5kbGVDaGFuZ2VNb2RlU3dpdGNoKG1vZGUsIG1vZGVGbGFnKSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTsgfTtcclxuICAgICAgICBfdGhpcy5oYW5kbGVDaGFuZ2VNb2RlID0gZnVuY3Rpb24gKGUsIG1vZGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnNldFN0YXRlKHsgbW9kZTogbW9kZSB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBtb2RlOiBwcm9wcy5kZWZhdWx0TW9kZSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIElubmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLmRhdGEsIF9iID0gX2EuaGFzUGFkZGluZywgaGFzUGFkZGluZyA9IF9iID09PSB2b2lkIDAgPyB0aGlzLnByb3BzLmRlZmF1bHRIYXNQYWRkaW5nIDogX2IsIF9jID0gX2EubW9kZUZsYWcsIG1vZGVGbGFnID0gX2MgPT09IHZvaWQgMCA/IHRoaXMucHJvcHMuZGVmYXVsdE1vZGVGbGFnIDogX2MsIF9kID0gX2EuZGFya2VuLCBkYXJrZW4gPSBfZCA9PT0gdm9pZCAwID8gdGhpcy5wcm9wcy5kZWZhdWx0RGFya2VuIDogX2QsIF9lID0gX2EubGlnaHRlbiwgbGlnaHRlbiA9IF9lID09PSB2b2lkIDAgPyB0aGlzLnByb3BzLmRlZmF1bHRMaWdodGVuIDogX2U7XHJcbiAgICAgICAgdmFyIGRhcmtlbkZpbmFsID0gdGhpcy5wcm9wcy5kYXJrZW5QcmV2aWV3ICE9PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgPyB0aGlzLnByb3BzLmRhcmtlblByZXZpZXdcclxuICAgICAgICAgICAgOiBkYXJrZW47XHJcbiAgICAgICAgdmFyIGxpZ2h0ZW5GaW5hbCA9IHRoaXMucHJvcHMubGlnaHRlblByZXZpZXcgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICA/IHRoaXMucHJvcHMubGlnaHRlblByZXZpZXdcclxuICAgICAgICAgICAgOiBsaWdodGVuO1xyXG4gICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLFxyXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFRhYnMsIHsgc3R5bGU6IHsgbWFyZ2luQm90dG9tOiAxNiB9LCB2YWx1ZTogdGhpcy5zdGF0ZS5tb2RlLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2VNb2RlLCBjZW50ZXJlZDogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgKHRoaXMucHJvcHMuZW5hYmxlZE1vZGVzICYgTW9kZUVudW0uSU1BR0VfTU9ERV9GTEFHKSA+IDAgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGFiLCB7IGljb246IFJlYWN0LmNyZWF0ZUVsZW1lbnQoSW1hZ2VJY29uLCB7IGNvbG9yOiAobW9kZUZsYWcgJiBNb2RlRW51bS5JTUFHRV9NT0RFX0ZMQUcpID4gMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnc2Vjb25kYXJ5J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQgfSksIGxhYmVsOiB0aGlzLnByb3BzLnRyYW5zbGF0aW9ucy5pbWFnZU1vZGUsIHZhbHVlOiBNb2RlRW51bS5JTUFHRV9NT0RFX0ZMQUcgfSkpLFxyXG4gICAgICAgICAgICAgICAgKHRoaXMucHJvcHMuZW5hYmxlZE1vZGVzICYgTW9kZUVudW0uQ09MT1JfTU9ERV9GTEFHKSA+IDAgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGFiLCB7IGljb246IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29sb3JJY29uLCB7IGNvbG9yOiAobW9kZUZsYWcgJiBNb2RlRW51bS5DT0xPUl9NT0RFX0ZMQUcpID4gMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnc2Vjb25kYXJ5J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQgfSksIGxhYmVsOiB0aGlzLnByb3BzLnRyYW5zbGF0aW9ucy5jb2xvck1vZGUsIHZhbHVlOiBNb2RlRW51bS5DT0xPUl9NT0RFX0ZMQUcgfSkpLFxyXG4gICAgICAgICAgICAgICAgKHRoaXMucHJvcHMuZW5hYmxlZE1vZGVzICYgTW9kZUVudW0uR1JBRElFTlRfTU9ERV9GTEFHKSA+IDAgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGFiLCB7IGljb246IFJlYWN0LmNyZWF0ZUVsZW1lbnQoR3JhZGllbnRJY29uLCB7IGNvbG9yOiAobW9kZUZsYWcgJiBNb2RlRW51bS5HUkFESUVOVF9NT0RFX0ZMQUcpID4gMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnc2Vjb25kYXJ5J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQgfSksIGxhYmVsOiB0aGlzLnByb3BzLnRyYW5zbGF0aW9ucy5ncmFkaWVudE1vZGUsIHZhbHVlOiBNb2RlRW51bS5HUkFESUVOVF9NT0RFX0ZMQUcgfSkpKSxcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJVSSgpLFxyXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnJcIiwgbnVsbCksXHJcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBzdHlsZTogeyBkaXNwbGF5OiAnZmxleCcgfSB9LFxyXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlOiB7IGZsZXg6IDEgfSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVHlwb2dyYXBoeSwgeyB2YXJpYW50OiBcImJvZHkxXCIsIGlkOiBcImxpbmVhci1ncmFkaWVudC1kYXJrZW4tbGFiZWxcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnRyYW5zbGF0aW9ucy5kYXJrZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIChcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGRhcmtlbkZpbmFsICogMTAwKS50b0ZpeGVkKDApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiUpXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2xpZGVyLCB7IFwiYXJpYS1sYWJlbGxlZGJ5XCI6IFwibGluZWFyLWdyYWRpZW50LWRhcmtlbi1sYWJlbFwiLCB2YWx1ZTogZGFya2VuRmluYWwsIG9uQ2hhbmdlOiBmdW5jdGlvbiAoZSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5wcm9wcy5oYW5kbGVDaGFuZ2VEYXJrZW5QcmV2aWV3KHZhbHVlIGluc3RhbmNlb2YgQXJyYXkgPyB2YWx1ZVswXSA6IHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgb25DaGFuZ2VDb21taXR0ZWQ6IHRoaXMucHJvcHMuaGFuZGxlQ2hhbmdlRGFya2VuLCBzdGVwOiAwLjAxLCBtaW46IDAsIG1heDogMSB9KSksXHJcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgc3R5bGU6IHsgZmxleDogMSwgbWFyZ2luTGVmdDogMTYgfSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVHlwb2dyYXBoeSwgeyB2YXJpYW50OiBcImJvZHkxXCIsIGlkOiBcImxpbmVhci1ncmFkaWVudC1saWdodGVuLWxhYmVsXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy50cmFuc2xhdGlvbnMubGlnaHRlbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCIgKFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAobGlnaHRlbkZpbmFsICogMTAwKS50b0ZpeGVkKDApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiUpXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2xpZGVyLCB7IFwiYXJpYS1sYWJlbGxlZGJ5XCI6IFwibGluZWFyLWdyYWRpZW50LWxpZ2h0ZW4tbGFiZWxcIiwgdmFsdWU6IGxpZ2h0ZW5GaW5hbCwgb25DaGFuZ2U6IGZ1bmN0aW9uIChlLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnByb3BzLmhhbmRsZUNoYW5nZUxpZ2h0ZW5QcmV2aWV3KHZhbHVlIGluc3RhbmNlb2YgQXJyYXkgPyB2YWx1ZVswXSA6IHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgb25DaGFuZ2VDb21taXR0ZWQ6IHRoaXMucHJvcHMuaGFuZGxlQ2hhbmdlTGlnaHRlbiwgc3RlcDogMC4wMSwgbWluOiAwLCBtYXg6IDEgfSkpLFxyXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlOiB7IGZsZXg6IDEsIG1hcmdpbkxlZnQ6IDE2IH0gfSxcclxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1Db250cm9sTGFiZWwsIHsgY29udHJvbDogUmVhY3QuY3JlYXRlRWxlbWVudChTd2l0Y2gsIHsgb25DaGFuZ2U6IHRoaXMucHJvcHMuaGFuZGxlQ2hhbmdlSGFzUGFkZGluZywgY2hlY2tlZDogaGFzUGFkZGluZyB9KSwgbGFiZWw6IHRoaXMucHJvcHMudHJhbnNsYXRpb25zLnVzZVBhZGRpbmcgfSkpKSkpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBJbm5lcjtcclxufShSZWFjdC5Db21wb25lbnQpKTtcclxuZXhwb3J0IGRlZmF1bHQgSW5uZXI7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUlubmVyLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBDb2xvclBpY2tlciB9IGZyb20gJ0ByZWFjdC1wYWdlL2VkaXRvcic7XHJcbnZhciBDb2xvckNvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhDb2xvckNvbXBvbmVudCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIENvbG9yQ29tcG9uZW50KCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmhhbmRsZUNoYW5nZVBpY2tlckJhY2tncm91bmRDb2xvciA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5wcm9wcy5vbkNoYW5nZUJhY2tncm91bmRDb2xvclByZXZpZXcgJiZcclxuICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlQmFja2dyb3VuZENvbG9yUHJldmlldyhlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIF90aGlzLmhhbmRsZUNoYW5nZVBpY2tlckJhY2tncm91bmRDb2xvckNvbXBsZXRlID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLm9uQ2hhbmdlQmFja2dyb3VuZENvbG9yUHJldmlldykge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2VCYWNrZ3JvdW5kQ29sb3JQcmV2aWV3KHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2UoeyBiYWNrZ3JvdW5kQ29sb3I6IGUgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBDb2xvckNvbXBvbmVudC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIGJhY2tncm91bmRDb2xvclByZXZpZXcgPSBfYS5iYWNrZ3JvdW5kQ29sb3JQcmV2aWV3LCBfYiA9IF9hLmRhdGEuYmFja2dyb3VuZENvbG9yLCBiYWNrZ3JvdW5kQ29sb3IgPSBfYiA9PT0gdm9pZCAwID8gdGhpcy5wcm9wcy5kZWZhdWx0QmFja2dyb3VuZENvbG9yIDogX2I7XHJcbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgc3R5bGU6IHsgZGlzcGxheTogJ2ZsZXgnIH0gfSxcclxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChDb2xvclBpY2tlciwgeyBjb2xvcjogYmFja2dyb3VuZENvbG9yUHJldmlldyA/IGJhY2tncm91bmRDb2xvclByZXZpZXcgOiBiYWNrZ3JvdW5kQ29sb3IsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZVBpY2tlckJhY2tncm91bmRDb2xvciwgb25EaWFsb2dPcGVuOiB0aGlzLnByb3BzLmVuc3VyZU1vZGVPbiwgb25DaGFuZ2VDb21wbGV0ZTogdGhpcy5oYW5kbGVDaGFuZ2VQaWNrZXJCYWNrZ3JvdW5kQ29sb3JDb21wbGV0ZSwgc3R5bGU6IHsgbWFyZ2luOiAnYXV0bycgfSB9KSkpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBDb2xvckNvbXBvbmVudDtcclxufShDb21wb25lbnQpKTtcclxuZXhwb3J0IGRlZmF1bHQgQ29sb3JDb21wb25lbnQ7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbG9yLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgU3dpdGNoIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1N3aXRjaCc7XHJcbmltcG9ydCBUZXh0RmllbGQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVGV4dEZpZWxkJztcclxuaW1wb3J0IEZvcm1Db250cm9sTGFiZWwgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRm9ybUNvbnRyb2xMYWJlbCc7XHJcbmltcG9ydCB7IEltYWdlVXBsb2FkIH0gZnJvbSAnQHJlYWN0LXBhZ2UvZWRpdG9yJztcclxuaW1wb3J0IFR5cG9ncmFwaHkgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVHlwb2dyYXBoeSc7XHJcbnZhciBJbWFnZUNvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhJbWFnZUNvbXBvbmVudCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEltYWdlQ29tcG9uZW50KCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmhhbmRsZUNoYW5nZUJhY2tncm91bmQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBfdGhpcy5wcm9wcy5lbnN1cmVNb2RlT24oKTtcclxuICAgICAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2UoeyBiYWNrZ3JvdW5kOiBlLnRhcmdldC52YWx1ZSB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIF90aGlzLmhhbmRsZUNoYW5nZUlzUGFyYWxsYXggPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBfdGhpcy5wcm9wcy5lbnN1cmVNb2RlT24oKTtcclxuICAgICAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2Uoe1xyXG4gICAgICAgICAgICAgICAgaXNQYXJhbGxheDogX3RoaXMucHJvcHMuZGF0YS5pc1BhcmFsbGF4ID09PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICA/IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgOiAhX3RoaXMucHJvcHMuZGF0YS5pc1BhcmFsbGF4LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIF90aGlzLmhhbmRsZUltYWdlTG9hZGVkID0gZnVuY3Rpb24gKGltYWdlKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnByb3BzLmVuc3VyZU1vZGVPbigpO1xyXG4gICAgICAgICAgICBfdGhpcy5wcm9wcy5vbkltYWdlTG9hZGVkKGltYWdlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIF90aGlzLmhhbmRsZUltYWdlVXBsb2FkZWQgPSBmdW5jdGlvbiAocmVzcCkge1xyXG4gICAgICAgICAgICBfdGhpcy5wcm9wcy5vbkltYWdlVXBsb2FkZWQoKTtcclxuICAgICAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2UoeyBiYWNrZ3JvdW5kOiByZXNwLnVybCB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIEltYWdlQ29tcG9uZW50LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcy5kYXRhLCBfYiA9IF9hLmlzUGFyYWxsYXgsIGlzUGFyYWxsYXggPSBfYiA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9iLCBfYyA9IF9hLmJhY2tncm91bmQsIGJhY2tncm91bmQgPSBfYyA9PT0gdm9pZCAwID8gJycgOiBfYztcclxuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCxcclxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlOiB7IGRpc3BsYXk6ICdmbGV4JyB9IH0sXHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmltYWdlVXBsb2FkICYmIChSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSW1hZ2VVcGxvYWQsIHsgdHJhbnNsYXRpb25zOiB0aGlzLnByb3BzLnRyYW5zbGF0aW9ucywgaW1hZ2VVcGxvYWQ6IHRoaXMucHJvcHMuaW1hZ2VVcGxvYWQsIGltYWdlTG9hZGVkOiB0aGlzLmhhbmRsZUltYWdlTG9hZGVkLCBpbWFnZVVwbG9hZGVkOiB0aGlzLmhhbmRsZUltYWdlVXBsb2FkZWQgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCB7IHZhcmlhbnQ6IFwiYm9keTFcIiwgc3R5bGU6IHsgbWFyZ2luOiAnMjBweCAxNnB4IDAgMTZweCcgfSB9LCB0aGlzLnByb3BzLnRyYW5zbGF0aW9ucy5vcikpKSxcclxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGV4dEZpZWxkLCB7IHBsYWNlaG9sZGVyOiB0aGlzLnByb3BzLnRyYW5zbGF0aW9ucy5zcmNQbGFjZWhvbGRlciwgbGFiZWw6IHRoaXMucHJvcHMuaW1hZ2VVcGxvYWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLnByb3BzLnRyYW5zbGF0aW9ucy5oYXZlVXJsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5wcm9wcy50cmFuc2xhdGlvbnMuaW1hZ2VVcmwsIHN0eWxlOiB7IHdpZHRoOiAnMjU2cHgnIH0sIHZhbHVlOiBiYWNrZ3JvdW5kLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2VCYWNrZ3JvdW5kIH0pLFxyXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtQ29udHJvbExhYmVsLCB7IGNvbnRyb2w6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3dpdGNoLCB7IG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZUlzUGFyYWxsYXgsIGNoZWNrZWQ6IGlzUGFyYWxsYXggfSksIGxhYmVsOiB0aGlzLnByb3BzLnRyYW5zbGF0aW9ucy5pc1BhcmFsbGF4IH0pKSkpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBJbWFnZUNvbXBvbmVudDtcclxufShSZWFjdC5Db21wb25lbnQpKTtcclxuZXhwb3J0IGRlZmF1bHQgSW1hZ2VDb21wb25lbnQ7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUltYWdlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXHJcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XHJcbmltcG9ydCBCdXR0b24gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQnV0dG9uJztcclxuaW1wb3J0IEljb25CdXR0b24gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvSWNvbkJ1dHRvbic7XHJcbmltcG9ydCBTbGlkZXIgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvU2xpZGVyJztcclxuaW1wb3J0IFR5cG9ncmFwaHkgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVHlwb2dyYXBoeSc7XHJcbmltcG9ydCBEZWxldGVJY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9EZWxldGUnO1xyXG5pbXBvcnQgeyBDb2xvclBpY2tlciB9IGZyb20gJ0ByZWFjdC1wYWdlL2VkaXRvcic7XHJcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbnZhciBMaW5lYXJHcmFkaWVudENvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhMaW5lYXJHcmFkaWVudENvbXBvbmVudCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIExpbmVhckdyYWRpZW50Q29tcG9uZW50KCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmFkZEdyYWRpZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5wcm9wcy5lbnN1cmVNb2RlT24oKTtcclxuICAgICAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2Uoe1xyXG4gICAgICAgICAgICAgICAgZ3JhZGllbnRzOiAoX3RoaXMucHJvcHMuZGF0YS5ncmFkaWVudHNcclxuICAgICAgICAgICAgICAgICAgICA/IF90aGlzLnByb3BzLmRhdGEuZ3JhZGllbnRzXHJcbiAgICAgICAgICAgICAgICAgICAgOiBbXSkuY29uY2F0KHtcclxuICAgICAgICAgICAgICAgICAgICBkZWc6IDQ1LFxyXG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsXHJcbiAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5oYW5kbGVDaGFuZ2VEZWcgPSBmdW5jdGlvbiAoaW5kZXgsIHZhbHVlKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlR3JhZGllbnREZWdQcmV2aWV3ICYmXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZUdyYWRpZW50RGVnUHJldmlldyh1bmRlZmluZWQsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKHtcclxuICAgICAgICAgICAgICAgIGdyYWRpZW50czogKF90aGlzLnByb3BzLmRhdGEuZ3JhZGllbnRzXHJcbiAgICAgICAgICAgICAgICAgICAgPyBfdGhpcy5wcm9wcy5kYXRhLmdyYWRpZW50c1xyXG4gICAgICAgICAgICAgICAgICAgIDogW10pLm1hcChmdW5jdGlvbiAoZywgaSkgeyByZXR1cm4gKGkgPT09IGluZGV4ID8gX19hc3NpZ24oX19hc3NpZ24oe30sIGcpLCB7IGRlZzogdmFsdWUgfSkgOiBnKTsgfSksXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07IH07XHJcbiAgICAgICAgX3RoaXMuaGFuZGxlQ2hhbmdlRGVnUHJldmlldyA9IGZ1bmN0aW9uIChpbmRleCkgeyByZXR1cm4gZnVuY3Rpb24gKGUsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlR3JhZGllbnREZWdQcmV2aWV3ICYmXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZUdyYWRpZW50RGVnUHJldmlldyh2YWx1ZSwgaW5kZXgpO1xyXG4gICAgICAgIH07IH07XHJcbiAgICAgICAgX3RoaXMuaGFuZGxlQ2hhbmdlT3BhY2l0eSA9IGZ1bmN0aW9uIChpbmRleCwgdmFsdWUpIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2VHcmFkaWVudE9wYWNpdHlQcmV2aWV3ICYmXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZUdyYWRpZW50T3BhY2l0eVByZXZpZXcodW5kZWZpbmVkLCB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZSh7XHJcbiAgICAgICAgICAgICAgICBncmFkaWVudHM6IChfdGhpcy5wcm9wcy5kYXRhLmdyYWRpZW50c1xyXG4gICAgICAgICAgICAgICAgICAgID8gX3RoaXMucHJvcHMuZGF0YS5ncmFkaWVudHNcclxuICAgICAgICAgICAgICAgICAgICA6IFtdKS5tYXAoZnVuY3Rpb24gKGcsIGkpIHsgcmV0dXJuIChpID09PSBpbmRleCA/IF9fYXNzaWduKF9fYXNzaWduKHt9LCBnKSwgeyBvcGFjaXR5OiB2YWx1ZSB9KSA6IGcpOyB9KSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTsgfTtcclxuICAgICAgICBfdGhpcy5oYW5kbGVDaGFuZ2VPcGFjaXR5UHJldmlldyA9IGZ1bmN0aW9uIChpbmRleCkgeyByZXR1cm4gZnVuY3Rpb24gKGUsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlR3JhZGllbnRPcGFjaXR5UHJldmlldyAmJlxyXG4gICAgICAgICAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2VHcmFkaWVudE9wYWNpdHlQcmV2aWV3KHZhbHVlLCBpbmRleCk7XHJcbiAgICAgICAgfTsgfTtcclxuICAgICAgICBfdGhpcy5oYW5kbGVDaGFuZ2VHcmFkaWVudENvbG9yID0gZnVuY3Rpb24gKGluZGV4LCBjcEluZGV4KSB7IHJldHVybiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZUdyYWRpZW50Q29sb3JQcmV2aWV3ICYmXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZUdyYWRpZW50Q29sb3JQcmV2aWV3KHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZSh7XHJcbiAgICAgICAgICAgICAgICBncmFkaWVudHM6IFtdXHJcbiAgICAgICAgICAgICAgICAgICAgLmNvbmNhdChfdGhpcy5wcm9wcy5kYXRhLmdyYWRpZW50cyA/IF90aGlzLnByb3BzLmRhdGEuZ3JhZGllbnRzIDogW10pXHJcbiAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoZywgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpID09PSBpbmRleFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IF9fYXNzaWduKF9fYXNzaWduKHt9LCBnKSwgeyBjb2xvcnM6IChnLmNvbG9ycyA/IGcuY29sb3JzIDogW10pLm1hcChmdW5jdGlvbiAoYywgY3BJKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNwSSA9PT0gY3BJbmRleCA/IF9fYXNzaWduKF9fYXNzaWduKHt9LCBjKSwgeyBjb2xvcjogZSB9KSA6IGM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSB9KSA6IGc7XHJcbiAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTsgfTtcclxuICAgICAgICBfdGhpcy5oYW5kbGVDaGFuZ2VHcmFkaWVudENvbG9yUHJldmlldyA9IGZ1bmN0aW9uIChpbmRleCwgY3BJbmRleCkgeyByZXR1cm4gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2VHcmFkaWVudENvbG9yUHJldmlldyAmJlxyXG4gICAgICAgICAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2VHcmFkaWVudENvbG9yUHJldmlldyhlLCBpbmRleCwgY3BJbmRleCk7XHJcbiAgICAgICAgfTsgfTtcclxuICAgICAgICBfdGhpcy5hZGRDb2xvciA9IGZ1bmN0aW9uIChpbmRleCkgeyByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5wcm9wcy5lbnN1cmVNb2RlT24oKTtcclxuICAgICAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2Uoe1xyXG4gICAgICAgICAgICAgICAgZ3JhZGllbnRzOiAoX3RoaXMucHJvcHMuZGF0YS5ncmFkaWVudHNcclxuICAgICAgICAgICAgICAgICAgICA/IF90aGlzLnByb3BzLmRhdGEuZ3JhZGllbnRzXHJcbiAgICAgICAgICAgICAgICAgICAgOiBbXSkubWFwKGZ1bmN0aW9uIChnLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkgPT09IGluZGV4XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gX19hc3NpZ24oX19hc3NpZ24oe30sIGcpLCB7IGNvbG9yczogKGcuY29sb3JzID8gZy5jb2xvcnMgOiBbXSkuY29uY2F0KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogKGcuY29sb3JzID8gZy5jb2xvcnMgOiBbXSkubGVuZ3RoICUgMiA9PT0gaW5kZXggJSAyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gX3RoaXMucHJvcHMuZGVmYXVsdEdyYWRpZW50Q29sb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBfdGhpcy5wcm9wcy5kZWZhdWx0R3JhZGllbnRTZWNvbmRhcnlDb2xvcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pIH0pIDogZztcclxuICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9OyB9O1xyXG4gICAgICAgIF90aGlzLnJlbW92ZUNvbG9yID0gZnVuY3Rpb24gKGluZGV4LCBjcEluZGV4KSB7IHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKHtcclxuICAgICAgICAgICAgICAgIGdyYWRpZW50czogW11cclxuICAgICAgICAgICAgICAgICAgICAuY29uY2F0KF90aGlzLnByb3BzLmRhdGEuZ3JhZGllbnRzID8gX3RoaXMucHJvcHMuZGF0YS5ncmFkaWVudHMgOiBbXSlcclxuICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChnLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkgPT09IGluZGV4XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gX19hc3NpZ24oX19hc3NpZ24oe30sIGcpLCB7IGNvbG9yczogKGcuY29sb3JzID8gZy5jb2xvcnMgOiBbXSkuZmlsdGVyKGZ1bmN0aW9uIChjLCBjcEkpIHsgcmV0dXJuIGNwSSAhPT0gY3BJbmRleDsgfSkgfSkgOiBnO1xyXG4gICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07IH07XHJcbiAgICAgICAgX3RoaXMucmVtb3ZlR3JhZGllbnQgPSBmdW5jdGlvbiAoaW5kZXgpIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2Uoe1xyXG4gICAgICAgICAgICAgICAgZ3JhZGllbnRzOiBbXVxyXG4gICAgICAgICAgICAgICAgICAgIC5jb25jYXQoX3RoaXMucHJvcHMuZGF0YS5ncmFkaWVudHMgPyBfdGhpcy5wcm9wcy5kYXRhLmdyYWRpZW50cyA6IFtdKVxyXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0sIGkpIHsgcmV0dXJuIGkgIT09IGluZGV4OyB9KSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTsgfTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBMaW5lYXJHcmFkaWVudENvbXBvbmVudC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgZ3JhZGllbnREZWdQcmV2aWV3ID0gX2EuZ3JhZGllbnREZWdQcmV2aWV3LCBncmFkaWVudERlZ1ByZXZpZXdJbmRleCA9IF9hLmdyYWRpZW50RGVnUHJldmlld0luZGV4LCBncmFkaWVudE9wYWNpdHlQcmV2aWV3ID0gX2EuZ3JhZGllbnRPcGFjaXR5UHJldmlldywgZ3JhZGllbnRPcGFjaXR5UHJldmlld0luZGV4ID0gX2EuZ3JhZGllbnRPcGFjaXR5UHJldmlld0luZGV4LCBncmFkaWVudENvbG9yUHJldmlldyA9IF9hLmdyYWRpZW50Q29sb3JQcmV2aWV3LCBncmFkaWVudENvbG9yUHJldmlld0luZGV4ID0gX2EuZ3JhZGllbnRDb2xvclByZXZpZXdJbmRleCwgZ3JhZGllbnRDb2xvclByZXZpZXdDb2xvckluZGV4ID0gX2EuZ3JhZGllbnRDb2xvclByZXZpZXdDb2xvckluZGV4LCBfYiA9IF9hLmRhdGEuZ3JhZGllbnRzLCBncmFkaWVudHMgPSBfYiA9PT0gdm9pZCAwID8gW10gOiBfYjtcclxuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCxcclxuICAgICAgICAgICAgZ3JhZGllbnRzLm1hcChmdW5jdGlvbiAoZ3JhZGllbnQsIGkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb2xvcnMgPSBncmFkaWVudC5jb2xvcnMgPyBncmFkaWVudC5jb2xvcnMgOiBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBkZWcgPSBpID09PSBncmFkaWVudERlZ1ByZXZpZXdJbmRleCAmJiBncmFkaWVudERlZ1ByZXZpZXcgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgID8gZ3JhZGllbnREZWdQcmV2aWV3XHJcbiAgICAgICAgICAgICAgICAgICAgOiBncmFkaWVudC5kZWc7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3BhY2l0eSA9IGkgPT09IGdyYWRpZW50T3BhY2l0eVByZXZpZXdJbmRleCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50T3BhY2l0eVByZXZpZXcgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgID8gZ3JhZGllbnRPcGFjaXR5UHJldmlld1xyXG4gICAgICAgICAgICAgICAgICAgIDogZ3JhZGllbnQub3BhY2l0eTtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGtleTogaSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBzdHlsZTogeyBkaXNwbGF5OiAnZmxleCcsIG1heFdpZHRoOiAnOTYlJyB9IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBzdHlsZTogeyBmbGV4OiAxIH0gfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVHlwb2dyYXBoeSwgeyB2YXJpYW50OiBcImJvZHkxXCIsIGlkOiBcImxpbmVhci1ncmFkaWVudC1kZWdyZWUtbGFiZWxcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLnRyYW5zbGF0aW9ucy5ncmFkaWVudFJvdGF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiIChcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucHJvcHMudHJhbnNsYXRpb25zLmRlZ3JlZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIpXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChTbGlkZXIsIHsgXCJhcmlhLWxhYmVsbGVkYnlcIjogXCJsaW5lYXItZ3JhZGllbnQtZGVncmVlLWxhYmVsXCIsIHZhbHVlOiBkZWcsIG9uQ2hhbmdlOiBfdGhpcy5oYW5kbGVDaGFuZ2VEZWdQcmV2aWV3KGkpLCBvbkNoYW5nZUNvbW1pdHRlZDogX3RoaXMuaGFuZGxlQ2hhbmdlRGVnKGksIGRlZyksIHN0ZXA6IDUsIG1pbjogMCwgbWF4OiAzNjAgfSkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgc3R5bGU6IHsgZmxleDogMSwgbWFyZ2luTGVmdDogMTYgfSB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCB7IHZhcmlhbnQ6IFwiYm9keTFcIiwgaWQ6IFwibGluZWFyLWdyYWRpZW50LW9wYWNpdHktbGFiZWxcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLnRyYW5zbGF0aW9ucy5ncmFkaWVudE9wYWNpdHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgKFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvcGFjaXR5ICogMTAwKS50b0ZpeGVkKDApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiJSlcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFNsaWRlciwgeyBcImFyaWEtbGFiZWxsZWRieVwiOiBcImxpbmVhci1ncmFkaWVudC1vcGFjaXR5LWxhYmVsXCIsIHZhbHVlOiBvcGFjaXR5LCBvbkNoYW5nZTogX3RoaXMuaGFuZGxlQ2hhbmdlT3BhY2l0eVByZXZpZXcoaSksIG9uQ2hhbmdlQ29tbWl0dGVkOiBfdGhpcy5oYW5kbGVDaGFuZ2VPcGFjaXR5KGksIG9wYWNpdHkpLCBzdGVwOiAwLjAxLCBtaW46IDAsIG1heDogMSB9KSkpLFxyXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBzdHlsZTogeyBtYXJnaW5Cb3R0b206IDMyIH0gfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3JzLm1hcChmdW5jdGlvbiAoYywgY3BJbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yID0gaSA9PT0gZ3JhZGllbnRDb2xvclByZXZpZXdJbmRleCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwSW5kZXggPT09IGdyYWRpZW50Q29sb3JQcmV2aWV3Q29sb3JJbmRleCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyYWRpZW50Q29sb3JQcmV2aWV3ICE9PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGdyYWRpZW50Q29sb3JQcmV2aWV3XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjLmNvbG9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCB7IGtleTogY3BJbmRleCB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29sb3JQaWNrZXIsIHsgYnV0dG9uQ29udGVudDogJ1NlbGVjdCBjb2xvciAnICsgY3BJbmRleCwgc3R5bGU6IHsgbWFyZ2luTGVmdDogJzhweCcgfSwgY29sb3I6IGNvbG9yLCBvbkNoYW5nZTogX3RoaXMuaGFuZGxlQ2hhbmdlR3JhZGllbnRDb2xvclByZXZpZXcoaSwgY3BJbmRleCksIG9uQ2hhbmdlQ29tcGxldGU6IF90aGlzLmhhbmRsZUNoYW5nZUdyYWRpZW50Q29sb3IoaSwgY3BJbmRleCkgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChJY29uQnV0dG9uLCB7IFwiYXJpYS1sYWJlbFwiOiBcIkRlbGV0ZVwiLCBvbkNsaWNrOiBfdGhpcy5yZW1vdmVDb2xvcihpLCBjcEluZGV4KSB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KERlbGV0ZUljb24sIG51bGwpKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHsgdmFyaWFudDogXCJjb250YWluZWRcIiwgb25DbGljazogX3RoaXMuYWRkQ29sb3IoaSksIHN0eWxlOiB7IG1hcmdpbkxlZnQ6ICc4cHgnIH0gfSwgX3RoaXMucHJvcHMudHJhbnNsYXRpb25zLmFkZENvbG9yKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChJY29uQnV0dG9uLCB7IFwiYXJpYS1sYWJlbFwiOiBcIkRlbGV0ZVwiLCBvbkNsaWNrOiBfdGhpcy5yZW1vdmVHcmFkaWVudChpKSB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChEZWxldGVJY29uLCBudWxsKSkpKSk7XHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwgeyBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbjogJ2F1dG8nLFxyXG4gICAgICAgICAgICAgICAgfSwgdmFyaWFudDogXCJvdXRsaW5lZFwiLCBvbkNsaWNrOiB0aGlzLmFkZEdyYWRpZW50LCBkaXNhYmxlZDogZ3JhZGllbnRzLmxlbmd0aCA+IDUgfSwgdGhpcy5wcm9wcy50cmFuc2xhdGlvbnMuYWRkR3JhZGllbnQpKSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIExpbmVhckdyYWRpZW50Q29tcG9uZW50O1xyXG59KFJlYWN0LkNvbXBvbmVudCkpO1xyXG5leHBvcnQgZGVmYXVsdCBMaW5lYXJHcmFkaWVudENvbXBvbmVudDtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGluZWFyR3JhZGllbnQuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==